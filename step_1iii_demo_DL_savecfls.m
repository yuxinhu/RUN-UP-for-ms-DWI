% This demo is actually pretty short, just as the last step in part (i), which finally save cfls as the training data.
% It is mainly based on function DL_savecfl, which are called multiple times for different datasets.


addpath(genpath(pwd))


dirnames = {'/bmrNAS/people/yuxinh/DTI_20170816/16Aug17_Ex12278_Ser3/SENSE_gcc8',...
'/bmrNAS/people/yuxinh/DTI_20170816/16Aug17_Ex12278_Ser3/SENSE_gcc8_nex2',...
'/bmrNAS/people/yuxinh/DTI_20180513/13May18_Ex3787_Ser3/SENSE_gcc8',...
'/bmrNAS/people/yuxinh/DTI_20180513/13May18_Ex3787_Ser4/SENSE_gcc8',...
'/bmrNAS/people/yuxinh/DTI_20180513/13May18_Ex3787_Ser9/SENSE_gcc8',...
'/bmrNAS/people/yuxinh/DTI_20180513/13May18_Ex3787_Ser10/SENSE_gcc8',...
'/bmrNAS/people/yuxinh/DTI_20180603/03Jun18_Ex3966_Ser4/SENSE_gcc8',...
'/bmrNAS/people/yuxinh/DTI_20180603/03Jun18_Ex3966_Ser5/SENSE_gcc8',...
'/bmrNAS/people/yuxinh/DTI_20180609/09Jun18_Ex4010_Ser4/SENSE_gcc8',...
'/bmrNAS/people/yuxinh/DTI_20180609/09Jun18_Ex4010_Ser5/SENSE_gcc8'};

dirnames = {'/bmrNAS/people/yuxinh/highres_brain/Exam5908/30Apr19_Ex5908_Ser6/prep_LLR'};

Outpath = ['/bmrNAS/people/yuxinh/DL_val_cfls_multidir'];

DL_savecfl(dirnames,Outpath)

%%

dirnames = {...
'/bmrNAS/people/yuxinh/breast_bw2/17Oct18_Ex4743_Ser7/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/24Oct18_Ex4819_Ser6/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/24Oct18_Ex4821_Ser7/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/25Oct18_Ex4827_Ser6/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/26Oct18_Ex4837_Ser6/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/26Oct18_Ex4840_Ser6/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/26Oct18_Ex4841_Ser6/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/26Oct18_Ex4842_Ser6/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/30Oct18_Ex4866_Ser6/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/26Feb19_Ex5864_Ser6/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/26Feb19_Ex5864_Ser7/prep_llr',...
'/bmrNAS/people/yuxinh/breast_bw2/04Mar19_Ex5908_Ser6/prep_llr',...
};

Outpath = ['/bmrNAS/people/yuxinh/DL_val_cfls_breast'];

DL_savecfl(dirnames,Outpath)


%%
dirnames = {...
'/bmrNAS/people/yuxinh/ms_20170718/17Jul17_Ex12110_Ser2/prep_llr_00008',...
'/bmrNAS/people/yuxinh/ms_20170718/17Jul17_Ex12110_Ser8/prep_llr_00008',...
'/bmrNAS/people/yuxinh/ms1_20170714/14Jul17_Ex12091_Ser3/prep_llr_00008',...
'/bmrNAS/people/yuxinh/ms1_20170714/14Jul17_Ex12091_Ser13/prep_llr_00008',...
'/bmrNAS/people/yuxinh/ms_20170719/19Jul17_Ex12124_Ser2/prep_llr_00008',...
'/bmrNAS/people/yuxinh/ms_20170719/19Jul17_Ex12124_Ser8/prep_llr_00008',...
'/bmrNAS/people/yuxinh/MS_20170816/16Aug17_Ex12279_Ser2/prep_llr_00008',...
'/bmrNAS/people/yuxinh/MS_20170816/16Aug17_Ex12279_Ser4/prep_llr_00008',...
'/bmrNAS/people/yuxinh/MS_20170816/16Aug17_Ex12279_Ser8/prep_llr_00008',...
'/bmrNAS/people/yuxinh/ms_20170824/24Aug17_Ex12345_Ser5/prep_llr_00008',...
};


Outpath = ['/bmrNAS/people/yuxinh/DL_val_cfls_braindwi'];

DL_savecfl(dirnames,Outpath)
